# **源代码控制实践**

## **必备技能**

- Git
- GitHub

------------------------------------------------------------------------------------

## **我们的预期**

- 了解源码控制的一些实践
- 了解基于主干的开发
- 了解如何以团队形式工作以及如何在日常开展工作


## **声明**

以下是我们推荐的源代码控制方式，但不是强制和唯一的方式

------------------------------------------------------------------------------------

## **我们如何来管理分支**

我们推荐基于主干的开发。 主干开发是一套代码分支管理策略，通常我们有一个主分支，并在主分支上创建单个分支以进行代码库更改。开发人员之间通过约定向被指定为主干的分支提交代码，以便其他团队成员在查看代码时能够及时看到更新。 基于主干的开发模型的核心思想是促进短期分支，以此抵抗因为长期存在的多分支导致的开发压力。主干开发是助力实现持续集成和持续交付的关键因素。开发团队的成员一天多次地将代码提交到主干分支，满足了持续交付的必要条件。团队的工作在24小时内就可以被整合，这保证了代码版本随时处于可发布状态，使得持续交付成为可能。

------------------------------------------------------------------------------------

## **在我们日常开发中源代码控制实践背后的原理是什么?**
关于源代码控制，我们确保我们创建的分支一次只包含对问题的解决方案的一个部分的更改。 当我们工作在一张卡上时，我们不会创建一个分支，目的是让它为一张卡保存整个代码库更改。 当人们已经为解决某个问题贡献了大量有用的方案时，这将会导致他们在一张卡上连续工作数周。也就是说，他们已经修复了这个bug，但是还没有编写任何测试来覆盖它，也没有更新文档。他们知道在接下来的几周内无法抽出时间来完成这两个具体（和必要的）变更，所以现在他们工作的卡可以会无意中阻碍进一步的进展。

在这种情况下，理想状况是，您的目标只涉及一次问题解决方案的一个方面。 也就是说，您将有意地拥有一些用于bug修复的代码，或者有意地为测试覆盖贡献一些代码，或者通过更新文档来有意地贡献一些代码。 这里的目标是创建一个连续的、可持续的工作流循环。在这个循环中，我们以团队的形式增量地、协作地构建我们的代码库。

一种方法是在单独的拉取请求（即测试，文档，应用程序代码）中为问题添加解决方案的不同“片段”。 另一种方法是创建拉取请求，以进行最小的可能有用的更改（例如，更改应用程序代码的单个方面以及支持它的文档和测试）。以这种方式分割事物的好处是，我们合并的每一个变更都是一个带来价值的完整特性。我们知道实际上并非总是可行，但这是我们努力的方向。

### **_确保我们创建的分支一次只包含解决方案的一个部分的更改，这一点很重要，原因如下：_**

-	对于快速集成的更新的代码，可以减轻我们 code review 的难度
-	通过状态和代码库更改的进度提高可见性
-	通过一次拥有一个特定的代码段来增加问责制
-	通过一次只关注一个特定的变化来提高代码质量
-	提高了持续集成代码库更改的能力
-	通过将自己与“未来变化”的所有权解耦来增加协作，从而允许团队成员为整体解决方案做出贡献
-	增加了更好地参与 CI/CD 实践的能力

------------------------------------------------------------------------------------

## **Questions**

希望你能够找到以下问题的答案

- [ ] 在团队中使用基于主干的开发有哪些好处？
- [ ] 在团队中拥有集体代码所有权有哪些好处？
- [ ] 如何正确使用 Git？
------------------------------------------------------------------------------------

## **任务**

在你开始任务之前，希望你可以找团队中的同事一起来 pair

- [ ] 为 Issue 2 创建一个主分支
- [ ] 完成 https://learngitbranching.js.org/ 里面的 git 命令练习

## **相关参考文档**

- [What is Trunk-Based development](https://paulhammant.com/2013/04/05/what-is-trunk-based-development/)
- [Trunk based development](https://trunkbaseddevelopment.com/)
- [Code ownership](https://martinfowler.com/bliki/CodeOwnership.html)
- [The importance of open communication in coding practice](https://dave.cheney.net/2019/02/18/talk-then-code)
- [Git and Github step-by-step essentials](https://towardsdatascience.com/getting-started-with-git-and-github-6fcd0f2d4ac6)
- [Pro Git (How to use Git)](https://git-scm.com/book/en/v2)
- [Book for troubleshooting git, and for writing better documentation using git](https://www.docslikecode.com/book/)
- [Learn Git (great for providing a visual model on how git works)](https://learngitbranching.js.org/)
- [Think like Git (a lighthearted guide)](http://think-like-a-git.net/)
